var StyleInputView=Backbone.View.extend({tagName:"li",className:"list",template:_.template($("#menu-template").html()),events:{click:"changeStyle"},initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},changeStyle:function(){var t=this.model.get("typeStart")+window.globalText+this.model.get("typeEnd"),e=$("#text-input").val().toString(),n=e.replace(window.globalText,t);window.changedText=n,console.log(window.changedText)}}),ListStyleView=Backbone.View.extend({tagName:"ul",className:"menu",template:_.template($("#input-template").html()),initialize:function(){this.render()},render:function(){return this.collection.each(function(t){var e=new StyleInputView({model:t});this.$el.append(e.render().el)},this),this}}),FontsView=Backbone.View.extend({el:"#search-font",tagName:"ul",className:"menu-font",events:{"keyup .font-input":"showOptions","click .font-input":"showAllOptions"},initialize:function(){this.input=this.$(".font-input"),this.render(),window.textLength=0},render:function(){return this.collection.each(function(t){var e=new ChooseFontView({model:t});this.$el.append(e.render().el)},this),this},settingModelTrue:function(){for(var t=this.collection.length-1;t>=0;t--)this.collection.at(t).set("selected",!0)},showAllOptions:function(){this.settingModelTrue()},showOptions:function(t){var e=[],n=$(".font-input").val();this.settingModelTrue(),0===n.length&&(console.log("siema"),window.textLength=0),16!==t.keyCode&&8!==t.keyCode&&window.textLength++,8===t.keyCode&&0!==window.textLength&&window.textLength--;for(var i=window.textLength,o=this.collection.pluck("fontName"),l=o.length-1;l>=0;l--)o[l].substr(0,i)!==n&&o.splice(l,1);for(var l=0;l<o.length;l++)for(var s=0;s<this.collection.length;s++)this.collection.at(s).get("fontName")!==o[l]?(this.collection.at(s).set("selected",!1),console.log(this.collection.at(s).get("fontName")+" "+s)):e.push(s);for(var l=e.length-1;l>=0;l--)this.collection.at(e[l]).set("selected",!0);0===n.length&&this.settingModelTrue()}});